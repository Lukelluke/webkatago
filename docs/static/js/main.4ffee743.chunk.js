(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e,r){t.exports=r(24)},22:function(t,e,r){},23:function(t,e,r){},24:function(t,e,r){"use strict";r.r(e);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=r(0),i=r.n(n),a=r(14),o=r(9),s=r.n(o),l=r(11),c=r(1),u=r(2),h=r(7),d=r(5),v=r(10),p=r(8);var f=function(t){var e={width:t.width,height:"15px",borderStyle:"solid",borderWidth:"1px",borderColor:"black",marginBottom:"5px"},r={float:"left",textAlign:"center",color:"white",width:"".concat(t.blackPercent,"%"),height:"100%",backgroundColor:"black"},n={float:"left",textAlign:"center",width:"".concat(100-t.blackPercent,"%"),height:"100%"};return i.a.createElement("div",{style:e},i.a.createElement("div",{style:r},t.blackInfo),i.a.createElement("div",{style:n},t.whiteInfo))},y=r(3),m=r(6),b=(r(22),r(4)),k=r(12),g=r(15),w=r.n(g),A=1,O=2;function S(t){return t===A?O:A}function E(t){var e=t.charCodeAt(0);return[(e<"I".charCodeAt(0)?e+1:e)-"A".charCodeAt(0),parseInt(t.slice(1))]}function x(t,e){return["@","A","B","C","D","E","F","G","H","J","K","L","M","N","O","P","Q","R","S","T"][t]+e}var j=function(){function t(e){Object(c.a)(this,t),this.BOARD_SIZE=void 0,this.BOARD_SIZE2=void 0,this.value=void 0,this.marks=void 0,this.BOARD_SIZE=e,this.BOARD_SIZE2=e*e,this.value=0,this.marks=new Int32Array(this.BOARD_SIZE2)}return Object(u.a)(t,[{key:"clear",value:function(){this.value+=1}},{key:"isMarked",value:function(t){return this.marks[t]===this.value}},{key:"mark",value:function(t){this.marks[t]=this.value}}]),t}(),I=[[],[],[[16,4],[4,16]],[[16,4],[4,16],[16,16]],[[16,4],[4,16],[16,16],[4,4]],[[16,4],[4,16],[16,16],[4,4],[10,10]],[[16,4],[4,16],[16,16],[4,4],[16,10],[4,10]],[[16,4],[4,16],[16,16],[4,4],[16,10],[4,10],[10,10]],[[16,4],[4,16],[16,16],[4,4],[16,10],[4,10],[10,4],[10,16]],[[16,4],[4,16],[16,16],[4,4],[16,10],[4,10],[10,4],[10,16],[10,10]]],C=function(){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Object(c.a)(this,t),this.BOARD_SIZE=void 0,this.BOARD_SIZE2=void 0,this.turn=void 0,this.state=void 0,this.ko=void 0,this.recent8=void 0,this.marker1=void 0,this.marker2=void 0,this.BOARD_SIZE=e,this.BOARD_SIZE2=e*e,this.state=(r={},Object(k.a)(r,A,new Float32Array(this.BOARD_SIZE2)),Object(k.a)(r,O,new Float32Array(this.BOARD_SIZE2)),r),this.recent8=[],this.marker1=new j(e),this.marker2=new j(e),n>1){var i=!0,a=!1,o=void 0;try{for(var s,l=I[n][Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this.setState(this.xyToPoint(u[0],u[1]),A)}}catch(h){a=!0,o=h}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}this.turn=O}else this.turn=A;this.ko=void 0}return Object(u.a)(t,null,[{key:"copy",value:function(e){var r=new t(e.BOARD_SIZE,0);return r.state[A].set(e.state[A]),r.state[O].set(e.state[O]),r.turn=e.turn,r.ko=e.ko,r}},{key:"fromSgf",value:function(t){for(var e=w.a.fastParse(t),r=Object(y.a)(e,1)[0],n=new this(parseInt(r.SZ||"19")),i=r;i._children.length>0;){var a=void 0;if(null!=(i=i._children[0]).B)a=i.B;else{if(null==i.W)continue;a=i.W}var o=n.moveToXy(a);-1===o?n.play(-1):n.play(n.xyToPoint.apply(n,o))}return n}}]),Object(u.a)(t,[{key:"moveToXy",value:function(t){if(""===t)return-1;var e="a".charCodeAt(0)-1;return[t.charCodeAt(0)-e,this.BOARD_SIZE-(t.charCodeAt(1)-e)+1]}},{key:"opponent",value:function(){return S(this.turn)}},{key:"switchTurn",value:function(){this.turn=S(this.turn)}},{key:"getState",value:function(t){return 1===this.state[A][t]?A:1===this.state[O][t]?O:0}},{key:"setState",value:function(t,e){0===e?(this.state[A][t]=0,this.state[O][t]=0):this.state[e][t]=1}},{key:"removeString",value:function(t){var e=!0,r=!1,n=void 0;try{for(var i,a=t.points[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;this.setState(o,0)}}catch(s){r=!0,n=s}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"captureBy",value:function(t){var e=this.opponent(),r=[],n=!0,i=!1,a=void 0;try{for(var o,s=this.adjacenciesAt(t)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(this.getState(l)===e){var c=this.stringAt(l);null!=c&&0===c.liberties.length&&(this.removeString(c),r.push.apply(r,c.points))}}}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}},{key:"stringAt",value:function(t){var e=this.getState(t);if(0!==e){var r=S(e),n=new z;this.marker1.clear(),this.marker2.clear(),n.points.push(t),this.marker2.mark(t);for(var i=0;i<n.points.length;i++){var a=n.points[i];if(!this.marker1.isMarked(a)){this.marker1.mark(a);var o=!0,s=!1,l=void 0;try{for(var c,u=this.adjacenciesAt(a)[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;if(!this.marker1.isMarked(h)){var d=this.getState(h);d===e?this.marker2.isMarked(h)||(n.points.push(h),this.marker2.mark(h)):(this.marker1.mark(h),d===r?n.opponents.push(h):n.liberties.push(h))}}}catch(v){s=!0,l=v}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}}}return n}}},{key:"putRecent8",value:function(t){this.recent8.unshift(t),this.recent8.length>8&&this.recent8.pop()}},{key:"play",value:function(t){if(-1===t)return this.putRecent8(t),this.switchTurn(),{turn:this.turn,point:t,ko:this.ko,captives:[],string:new z};if(t!==this.ko&&0===this.getState(t)){this.setState(t,this.turn);var e=this.captureBy(t),r=this.stringAt(t),n=r.liberties.length;if(0!==n){var i=this.ko;1===e.length&&1===n&&1===r.points.length?this.ko=r.liberties[0]:this.ko=void 0,this.putRecent8(t);var a=this.turn;return this.switchTurn(),{turn:a,point:t,ko:i,captives:e,string:r}}this.setState(t,0)}}},{key:"undoPlay",value:function(t){if(this.ko=t.ko,this.switchTurn(),-1!==t.point){this.setState(t.point,0);var e=S(t.turn),r=!0,n=!1,i=void 0;try{for(var a,o=t.captives[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;this.setState(s,e)}}catch(l){n=!0,i=l}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}},{key:"isLegal",value:function(t){var e=this.play(t);return!!e&&(this.undoPlay(e),!0)}},{key:"xyToPoint",value:function(t,e){return t-1+(e-1)*this.BOARD_SIZE}},{key:"pointToXy",value:function(t){var e=Math.floor(t/this.BOARD_SIZE);return[t-e*this.BOARD_SIZE+1,e+1]}},{key:"adjacenciesAt",value:function(t){for(var e=this.pointToXy(t),r=[],n=0,i=[[0,-1],[-1,0],[1,0],[0,1]];n<i.length;n++){var a=i[n],o=e[0]+a[0],s=e[1]+a[1];o>=1&&o<=this.BOARD_SIZE&&s>=1&&s<=this.BOARD_SIZE&&r.push(this.xyToPoint(o,s))}return r}},{key:"diagonalsAt",value:function(t){for(var e=this.pointToXy(t),r=[],n=0,i=[[-1,-1],[-1,1],[1,-1],[1,-1]];n<i.length;n++){var a=i[n],o=e[0]+a[0],s=e[1]+a[1];o>=1&&o<=this.BOARD_SIZE&&s>=1&&s<=this.BOARD_SIZE&&r.push(this.xyToPoint(o,s))}return r}},{key:"canEscape",value:function(t){if(t.liberties.length>1)return!0;var e=!0,r=!1,n=void 0;try{for(var i,a=t.opponents[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value,s=this.stringAt(o);if(1===s.liberties.length){var l=this.play(s.liberties[0]);if(!l)continue;var c=this.stringAt(t.points[0]);if(2===c.liberties.length){var u=!0,h=!1,d=void 0;try{for(var v,p=c.liberties[Symbol.iterator]();!(u=(v=p.next()).done);u=!0){var f=v.value,y=this.play(f);if(y){var m=this.canEscape(this.stringAt(c.points[0]));if(this.undoPlay(y),!m)return this.undoPlay(l),!1}}}catch(I){h=!0,d=I}finally{try{u||null==p.return||p.return()}finally{if(h)throw d}}return this.undoPlay(l),!0}return this.undoPlay(l),c.liberties.length>2}}}catch(I){r=!0,n=I}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}var b=this.play(t.liberties[0]);if(null==b)return!1;if(null!=b.string&&2===b.string.liberties.length){var k=!0,g=!1,w=void 0;try{for(var A,O=b.string.liberties[Symbol.iterator]();!(k=(A=O.next()).done);k=!0){var S=A.value,E=this.play(S);if(E){var x=this.stringAt(t.points[0]),j=this.canEscape(x);if(this.undoPlay(E),!j)return this.undoPlay(b),!1}}}catch(I){g=!0,w=I}finally{try{k||null==O.return||O.return()}finally{if(g)throw w}}return this.undoPlay(b),!0}return this.undoPlay(b),1!==b.string.liberties.length}},{key:"likeEye",value:function(t){var e=this;if(0!==this.getState(t))return!1;var r=this.adjacenciesAt(t);return!!r.every(function(t){return e.getState(t)===e.turn})&&r.every(function(t){return e.stringAt(t).liberties.length>1})}},{key:"isEyeOfTurn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!this.likeEye(t))return!1;var r=0,n=4===this.adjacenciesAt(t).length?1:0,i=S(this.turn),a=!0,o=!1,s=void 0;try{for(var l,c=this.diagonalsAt(t)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;if(this.getState(u)===i?r+=1:0===this.getState(u)&&e.indexOf(u)<0&&(e.push(t),this.isEyeOfTurn(u,e)||(r+=1),e.pop()),r>n)return!1}}catch(h){o=!0,s=h}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return!0}},{key:"isFalseEye",value:function(t){return this.likeEye(t)&&!this.isEyeOfTurn(t)}},{key:"toString",value:function(){for(var t="",e=1;e<=this.BOARD_SIZE;e++){for(var r=1;r<=this.BOARD_SIZE;r++)switch(this.getState(this.xyToPoint(r,e))){case 0:t+=".";break;case A:t+="X";break;case O:t+="O"}t+="\n"}return t}}]),t}(),z=function t(){Object(c.a)(this,t),this.points=void 0,this.liberties=void 0,this.opponents=void 0,this.points=[],this.liberties=[],this.opponents=[]},D=C,B=function t(){Object(c.a)(this,t),this.stone=void 0,this.number=void 0,this.winrate=void 0,this.playouts=void 0,this.fillColor=void 0,this.borderWidth=void 0,this.borderColor=void 0,this.backgroundColor=void 0,this.stone=void 0,this.number=void 0,this.winrate=void 0,this.playouts=void 0,this.fillColor=void 0,this.borderWidth=void 0,this.borderColor=void 0,this.backgroundColor=void 0};function M(t,e,r){var n,i,a,o,s,l,c,u;switch(l=r*(1-e),c=r*(1-(s=6*t-(o=Math.floor(6*t)))*e),u=r*(1-(1-s)*e),o%6){case 0:n=r,i=u,a=l;break;case 1:n=c,i=r,a=l;break;case 2:n=l,i=r,a=u;break;case 3:n=l,i=c,a=r;break;case 4:n=u,i=l,a=r;break;default:n=r,i=l,a=c}return{r:Math.round(255*n),g:Math.round(255*i),b:Math.round(255*a)}}function _(t,e,r){var n,i=Math.max(t,e,r),a=Math.min(t,e,r),o=i-a,s=0===i?0:o/i,l=i/255;switch(i){case a:n=0;break;case t:n=e-r+o*(e<r?6:0),n/=6*o;break;case e:n=r-t+2*o,n/=6*o;break;default:n=t-e+4*o,n/=6*o}return{h:n,s:s,v:l}}function P(t){for(var e=new Array(t.BOARD_SIZE2),r=0;r<e.length;r++){var n=new B;switch(t.getState(r)){case A:n.stone="B";break;case O:n.stone="W"}e[r]=n}return e}function R(t,e){var r=[];if(t<=e)for(var n=t;n<=e;n++)r.push(n);else for(var i=t;i>=e;i--)r.push(i);return r}var Z=function(t){function e(t){var r;return Object(c.a)(this,e),(r=Object(h.a)(this,Object(d.a)(e).call(this,t))).state={},r}return Object(p.a)(e,t),Object(u.a)(e,[{key:"index",value:function(t,e){return this.props.w*(e-1)+t-1}},{key:"renderIntersection",value:function(t,e,r){var n=this,a=t[this.index(e,r)];return i.a.createElement(T,{key:"".concat(e,"-").concat(r),onClick:function(){return n.props.onClickIntersection(e,r)},onMouseEnter:function(){return n.onMouseEnterIntersection(e,r)},onMouseLeave:function(){return n.onMouseLeaveIntersection(e,r)},stone:a.stone,number:a.number,winrate:a.winrate,playouts:a.playouts,fillColor:a.fillColor,borderWidth:a.borderWidth,borderColor:a.borderColor,backgroundColor:a.backgroundColor})}},{key:"render",value:function(){var t,e,r=this;this.state.candidate&&null!=(e=this.props.candidates.find(function(t){return t.move===r.state.candidate}))&&(t=function(t,e){var r=D.copy(t),n=!0,i=!1,a=void 0;try{for(var o,s=e.pv[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;r.play(r.xyToPoint.apply(r,E(l)))}}catch(g){i=!0,a=g}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}var c=P(r),u=t.turn,h=c[r.xyToPoint.apply(r,E(e.move))];h.winrate=e.winrate.toFixed(1),h.playouts=e.visits,h.textColor=u===A?"white":"black";var d=2;u=S(u);var v=!0,p=!1,f=void 0;try{for(var y,m=e.pv.slice(1)[Symbol.iterator]();!(v=(y=m.next()).done);v=!0){var b=y.value,k=c[r.xyToPoint.apply(r,E(b))];k.number=d,k.textColor=u===A?"white":"black",u=S(u),d++}}catch(g){p=!0,f=g}finally{try{v||null==m.return||m.return()}finally{if(p)throw f}}return c}(this.props.model,e)),null==e&&(t=P(this.props.model),this.props.candidates&&function(t,e,r){var n,i=Math.max.apply(Math,Object(m.a)(r.map(function(t){return t.visits}))),a=Math.max.apply(Math,Object(m.a)(r.map(function(t){return t.winrate}))),o=_(0,255,0).h,s=_(0,255,255).h,l=!0,c=!1,u=void 0;try{for(var h,d=r.entries()[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var v=h.value,p=Object(y.a)(v,2),f=p[0],b=p[1],k=t[e.xyToPoint.apply(e,E(b.move))];k.winrate=(100*b.winrate).toFixed(1),k.playouts=b.visits;var g=k.playouts/i,w=Math.log(g),A=0===f?s:o*Math.max(0,w/3+1),O=(32+208*Math.max(0,w/5+1))/255,S=M(A,.75,.85);if(0===f)if(b.winrate<a)k.borderWidth="2px",k.borderColor="red";else{k.borderWidth="1px";var x={r:.7*(n=S).r,g:.7*n.g,b:.7*n.b};k.borderColor="rgba(".concat(x.r,",").concat(x.g,",").concat(x.b,",").concat(O,")")}else k.winrate===a.toFixed(1)&&(k.borderWidth="2px",k.borderColor="blue");k.fillColor="rgba(".concat(S.r,",").concat(S.g,",").concat(S.b,",").concat(O,")")}}catch(j){c=!0,u=j}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}}(t,this.props.model,this.props.candidates));var n={width:this.props.width,height:this.props.height};return i.a.createElement("div",{className:"go-board",style:n},i.a.createElement("div",{className:"go-board-content"},R(this.props.h,1).map(function(e){return i.a.createElement("div",{className:"go-row",key:e},R(1,r.props.w).map(function(n){return r.renderIntersection(t,n,e)}))})))}},{key:"onMouseEnterIntersection",value:function(t,e){var r=x(t,e);this.props.candidates.map(function(t){return t.move}).includes(r)&&this.setState({candidate:r})}},{key:"onMouseLeaveIntersection",value:function(t,e){this.state.candidate&&this.setState({candidate:void 0})}}]),e}(i.a.Component),T=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t;switch(this.props.stone){case"B":t="url(https://storage.googleapis.com/mimiaka-storage/mimiaka/public/images/nachiguro2.png)";break;case"W":t="url(https://storage.googleapis.com/mimiaka-storage/mimiaka/public/images/hamaguri2.png)";break;default:t=void 0}var e,r={color:"B"===this.props.stone?"white":"black",backgroundImage:t,backgroundColor:this.props.backgroundColor},n={backgroundColor:this.props.fillColor,borderWidth:this.props.borderWidth,borderColor:this.props.borderColor};return i.a.createElement("div",{className:"go-intersection",style:r,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},i.a.createElement("div",{className:"go-intersection-number"},this.props.number),i.a.createElement("div",{className:"go-intersection-info",style:n},i.a.createElement("div",null,this.props.winrate),i.a.createElement("div",null,"number"===typeof this.props.playouts?(e=this.props.playouts)<1e3?Object(b.sprintf)("%d",e):e<1e4?Object(b.sprintf)("%.1fk",e/1e3):e<1e6?Object(b.sprintf)("%.0fk",e/1e3):e<1e7?Object(b.sprintf)("%.1fM",e/1e6):e<1e9?Object(b.sprintf)("%.0fM",e/1e6):Object(b.sprintf)("%.0G",e/1e9):this.props.playouts)))}}]),e}(i.a.PureComponent),F=Z,W=function(){function t(){var e=this;Object(c.a)(this,t),this.inputDom=void 0,this.outputDom=void 0,this.resolve=void 0,this.reject=void 0,this.LzAnalyzeHandler=void 0,this.kataAnalyzeHandler=void 0,this.inputDom=document.getElementById("input"),this.outputDom=document.getElementById("output"),this.outputDom.addEventListener("message",function(t){e.process(e.outputDom.value),e.outputDom.value=""},!1)}return Object(u.a)(t,[{key:"_command",value:function(t){this.inputDom.command.value=t,this.inputDom.dispatchEvent(new CustomEvent("submit"))}},{key:"command",value:function(t){var e=this;return new Promise(function(r,n){null==e.inputDom.command.getAttribute("disabled")&&(e.LzAnalyzeHandler=void 0,e.resolve=r,e.reject=n,e._command(t))})}},{key:"lzAnalyze",value:function(t,e){null==this.inputDom.command.getAttribute("disabled")&&(this.LzAnalyzeHandler=e,this._command("lz-analyze ".concat(t)))}},{key:"kataAnalyze",value:function(t,e){null==this.inputDom.command.getAttribute("disabled")&&(this.kataAnalyzeHandler=e,this._command("kata-analyze ".concat(t," ownership true")))}},{key:"process",value:function(t){t.startsWith("=")?this.resolve&&(this.resolve(t),this.resolve=void 0):t.startsWith("?")&&this.reject&&(this.reject(t),this.reject=void 0),this.LzAnalyzeHandler&&this.parseLzAnalyze(t),this.kataAnalyzeHandler&&this.parseKataAnalyze(t)}},{key:"parseLzAnalyze",value:function(t){for(var e,r=/info move ([A-Z]\d{1,2}) visits (\d+) winrate (\d+) prior (-?\d+) lcb (-?\d+) order (\d+) pv ((:? ?[A-Z]\d{1,2})+)/g,n=[];null!=(e=r.exec(t));)n.push({move:e[1],visits:parseInt(e[2]),winrate:parseInt(e[3])/1e4,prior:parseInt(e[4]),lcb:parseInt(e[5]),order:parseInt(e[6]),pv:e[7].split(" ")});this.LzAnalyzeHandler(n)}},{key:"parseKataAnalyze",value:function(t){var e={info:[],ownership:[]};if(t.includes("info")){var r=t.trim().split("ownership"),n=Object(y.a)(r,2),i=n[0],a=n[1],o=i.trim().split("info");o.shift();var s=!0,l=!1,c=void 0;try{for(var u,h=o[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){for(var d=u.value.trim().split(" "),v={};d.length>1;){var p=d.shift();switch(p){case"move":v[p]=d.shift();break;case"visits":v[p]=parseInt(d.shift());break;case"pv":v[p]=Object(m.a)(d),d.splice(0);break;default:v[p]=parseFloat(d.shift())}}"move"in v&&"visits"in v&&"winrate"in v&&"pv"in v?e.info.push(v):(console.log(v),console.log(t))}}catch(f){l=!0,c=f}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}null!=a&&(e.ownership=a.trim().split(" ").map(parseFloat)),this.kataAnalyzeHandler(e)}else this.kataAnalyzeHandler(e)}}]),t}(),L=function(t){function e(t){var r;return Object(c.a)(this,e),(r=Object(h.a)(this,Object(d.a)(e).call(this,t))).size=void 0,r.byoyomi=void 0,r.gtp=void 0,r.size=19,r.byoyomi=3,r.state={percent:50,black:"",white:"",model:new D(r.size,0),candidates:[],ownership:[]},r.gtp=new W,document.getElementById("sgf").addEventListener("paste",function(){var t=Object(l.a)(s.a.mark(function t(e){var n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(e.clipboardData||window.clipboardData).getData("text"),"tmp.sgf",FS.writeFile("tmp.sgf",n),t.next=5,r.gtp.command("loadsgf ".concat("tmp.sgf"));case 5:i=D.fromSgf(n),r.setState({model:i}),r.kataAnalyze();case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),!1),window.goAI=Object(v.a)(r),r}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",null,i.a.createElement(f,{width:"500px",blackPercent:this.state.percent,blackInfo:this.state.black,whiteInfo:this.state.white}),i.a.createElement(F,{width:"500px",height:"500px",w:this.size,h:this.size,candidates:this.state.candidates,model:this.state.model,onClickIntersection:function(e,r){return t.play(e,r)}}))}},{key:"lzAnalyze",value:function(){var t=this;this.gtp.lzAnalyze(100,function(e){var r=e[0],n=100*(t.state.model.turn===A?r.winrate:1-r.winrate);t.setState({candidates:e,percent:n,black:"".concat(n.toFixed(1),"%"),white:"".concat((100-n).toFixed(1),"%")})})}},{key:"kataAnalyze",value:function(){var t=this;this.gtp.kataAnalyze(100,function(e){if(0!==e.info.length){var r,n,i=e.info[0],a=100*(t.state.model.turn===A?i.winrate:1-i.winrate),o=(t.state.model.turn===A?i.scoreMean:1-i.scoreMean).toFixed(1),s=i.scoreStdev.toFixed(1);a>=50?(r="".concat(a.toFixed(1),"%(").concat(o,"\xb1").concat(s,")"),n="".concat((100-a).toFixed(1),"%")):(r="".concat(a.toFixed(1),"%"),n="".concat((100-a).toFixed(1),"%(").concat(-o,"\xb1").concat(s,")")),t.setState({candidates:e.info,ownership:e.ownership,percent:a,black:r,white:n})}})}},{key:"play",value:function(){var t=Object(l.a)(s.a.mark(function t(e,r){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=this.state.model.turn,this.setState(function(t,n){return t.model.play(t.model.xyToPoint(e,r)),{model:t.model}}),t.next=5,this.gtp.command("play ".concat(n===A?"black":"white"," ").concat(x(e,r)));case 5:this.kataAnalyze(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e,r){return t.apply(this,arguments)}}()}]),e}(i.a.Component),H=function(){return i.a.createElement("div",null,i.a.createElement(L,null))};r(23);"undefined"!==typeof SharedArrayBuffer&&Object(a.render)(i.a.createElement(H,null),document.getElementById("app-container")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.4ffee743.chunk.js.map